<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Штрих-код сканер</title>
    <script src="https://unpkg.com/quagga@0.12.1/dist/quagga.min.js"></script>
</head>
<body>
    <h1>Сканування штрих-коду</h1>
    <video id="scanner" width="100%" height="100%"></video>
    <p>Товар з кодом: <span id="barcode"></span></p>

    <script>
        // Запуск камери для сканування
        Quagga.init({
            inputStream: {
                name: "Live",
                type: "LiveStream",
                target: document.querySelector('#scanner')    // Відео елемент для камери
            },
            decoder: {
                readers: ["code_128_reader", "ean_reader", "ean_8_reader", "upc_reader"]  // Підтримувані формати штрих-кодів
            }
        }, function(err) {
            if (err) {
                console.error(err);
                return;
            }
            Quagga.start();  // Почати сканування
        });

        // Слухач на отримання результатів сканування
        Quagga.onDetected(function(result) {
            const barcode = result.codeResult.code;
            document.getElementById('barcode').textContent = barcode;

            // Відправити штрих-код в Telegram-бот
            // Тут ти можеш інтегрувати відправку через API, щоб бот отримав цей штрих-код
            window.location.href = `https://t.me/your_bot_username?start=${barcode}`;
        });
    </script>
</body>
</html>
